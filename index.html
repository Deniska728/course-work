<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="./jquery-ui-1.12.1/jquery-ui.min.css">
  <title>Document</title>
</head>

<body>
  <form>
    <div id="dropbox">
      <p>Перетащите сюда фотографию</p>
    </div>
    <select name="categories" id="categories">
      <option value="selfies">Селфи</option>
      <option value="nature">Природа</option>
      <option value="animals">Животные</option>
      <option value="other" selected>Прочее</option>
    </select>
    <input type="submit" value="Добавить фото">
  </form>
  <div id="tabs">
    <ul>
      <li><a href="#tabs-1">Селфи</a></li>
      <li><a href="#tabs-2">Природа</a></li>
      <li><a href="#tabs-3">Животные</a></li>
      <li><a href="#tabs-4">Другое</a></li>
    </ul>
    <div id="tabs-1">
        <section id="selfies">
        </section>
    </div>
    <div id="tabs-2">
        <section id="nature">
        </section>
    </div>
    <div id="tabs-3">
        <section id="animals">
        </section>
    </div>
    <div id="tabs-4">
      <section id="other">
      </section>
    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="./jquery-ui-1.12.1/jquery-ui.min.js"></script>
  <script src="dragAndDrop.js"></script>
  <script src="form.js"></script>
  <script>
    $( function() {
      $( "#tabs" ).tabs();
    } );
  </script>
  <script>
    const loadImg = (id) => {
      const other = document.querySelector(`#${id}`)
      const images = JSON.parse(localStorage.getItem('photos') || "[]")
      const filterImages = images.filter( img => {
        return img.type === `${id}`
      })
      if(filterImages.length > 0){
        filterImages.forEach(filterImage => {
          const img = document.createElement('img')
          img.src = filterImage.src
          other.appendChild(img)
        });
      } else {
        const text = document.createElement('p')
        text.innerHTML = 'У вас нет фотографий данной категории'
        other.appendChild(text)
      }
    }
    loadImg('selfies')
    loadImg('nature')
    loadImg('animals')
    loadImg('other')
  </script>
</body>

</html>